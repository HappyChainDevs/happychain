# Full reference
# https://book.getfoundry.sh/reference/config/

[profile.default]
# For Cancun hardfork + enables transient variables support.
solc_version = "0.8.28"

optimizer = true
optimizer_runs = 20000
via_ir = true

ignored_warnings_from = ["node_modules", "lib", "src/deploy", "src/scripts", "src/test"]

# Forge targets Paris by default.
evm_version = "cancun"

# Flags needed for OpenZeppelin upgrade validation.
ffi = true
ast = true
build_info = true
extra_output = ["storageLayout"]

# Documentation generation configuration
[doc]
title = "Boop Documentation"
out = "docs"
# Ignore everything except the boop directory
ignore = [
    "src/deploy/**/*.sol",
    "src/mocks/**/*.sol",
    "src/scripts/**/*.sol",
    "src/randomness/**/*.sol",
    "src/test/**/*.sol",
    "src/AddressBook.sol",
    "src/HappyERC20.sol",
    "src/HappyERC20Upgradeable.sol"
]

# Needed to write from the deploy scripts.
fs_permissions = [
    { access = "read", path = "./deployments/anvil/aa/deployment.json" },
    { access = "read", path = "./deployments/happy-sepolia/aa/deployment.json" },
    { access = "read", path = "./out/deployment.json" },
    { access = "write", path = "./out/deployment.json" },
    { access = "write", path = "./out/abiMap.json" },
]

# Formatter Options
line_width = 120

# allow all paths â€” necessary for pnpm
allow_paths = ["/"]

[profile.ci]
# Gives super verbose output by default (-vvvv) when running tests on CI.
verbosity = 4

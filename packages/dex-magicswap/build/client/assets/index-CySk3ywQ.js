import{a as h,h as p,A as o,y as c,b as v,e as U,f as A,g as C,w as E}from"./root-B0ve7n9Q.js";import{c as ie,d as oe,i as ae,j as se,o as ce,s as de}from"./root-B0ve7n9Q.js";import"./components-BLd368Cb.js";import x from"./preact-custom-element.esm-KcuJLi1c.js";import{u as d}from"./jsxRuntime.module-DvPLsq6B.js";import{a as O}from"./utils-BpA9bqt-.js";import"./Toast-Eg8_vlqZ.js";import"./useConfig-DF3L7iUI.js";import"./createLucideIcon-BFoDtFI7.js";import"./index-Bt8Q4yak.js";import"./consts-DRy7E-CO.js";import"./arbitrumSepolia-BhgihaGe.js";import"./defineChain-B0Tnjtyc.js";import"./custom-BqWD8wPQ.js";import"./formatUnits-CQZyr6Jb.js";import"./Button-C8z9n4iz.js";import"./chevron-right-fVo87A_c.js";const j={chainName:"localhost",rpcUrls:["http://127.0.0.1:8545","ws://127.0.0.1:8545"],nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},chainId:"0x7a69"},u=h,P=":host{all:unset!important}iframe{top:0;right:0;margin:1rem;position:fixed;overflow:hidden;transition:0s;border-radius:.75rem;transition-timing-function:ease-out;&.closed{&.disconnected{height:0;width:0}&.connected{height:4rem;width:12rem}}&.open{&.connected{height:32rem;width:24rem}}&.connecting{height:4rem;margin:1rem;transition:0s;width:12rem}&.modal{border-radius:0;height:100dvh;margin:0;padding:0;transition:0s;width:100dvw}}@media (max-width: 640px){iframe{margin:0rem;&.connected.open{max-height:80vh;width:90vh}}}";function H(n){return Object.fromEntries(Object.entries(n).filter(([,e])=>e))}function _(){console.error("HappyChain SDK failed to initialize")}function L({windowId:n,chain:e,rpcUrl:t}){const[a,f]=p(o.Connecting),[r,l]=p(!1);c(()=>A(i=>l(i.isOpen)),[]),c(()=>C(f),[]),c(()=>{const i=()=>r&&l(!1);return document.addEventListener("click",i),()=>document.removeEventListener("click",i)},[r]);const g=new URL("embed",v.iframePath),w=new URLSearchParams(H({windowId:n,chain:e,"rpc-urls":t})).toString(),m=a===o.Connected,s=a===o.Connecting,y=a===o.Disconnected,b={open:r&&!s,closed:!r||s,connected:m,disconnected:y,connecting:s,modal:!m&&r},S=navigator.userAgent.includes("Firefox")?"":"; clipboard-write 'src'";return d(U,{children:[d("style",{children:P}),d("iframe",{title:"happy-iframe",onError:_,src:`${g.href}?${w}`,className:O(b),style:{border:"none"},allow:S})]})}const $={chain:u};function ee(n={}){if(customElements.get("happy-wallet")||document.querySelector("happy-wallet"))return;const e={...$,...n};if(!e.chain)throw new Error("Missing chain");x(L,"happy-wallet",[],{shadow:!0});const t=document.createElement("happy-wallet");t.setAttribute("window-id",E),e.chain&&t.setAttribute("chain",JSON.stringify(e.chain)),e.rpcUrl&&t.setAttribute("rpc-url",Array.isArray(e.rpcUrl)?e.rpcUrl.join(","):e.rpcUrl),document.body.appendChild(t)}const I=j,M=h,N=u,k=Object.freeze(Object.defineProperty({__proto__:null,defaultChain:N,devnet:I,testnet:M},Symbol.toStringTag,{value:"Module"})),te={...k};export{te as chains,ie as connect,oe as disconnect,ae as getCurrentUser,se as happyProvider,A as onModalUpdate,ce as onUserUpdate,ee as register,de as showSendScreen};

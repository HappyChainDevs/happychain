# @happy.tech/design-tokens

A centralized package for managing design tokens across HappyChain projects.

# Overview

This package defines and distributes design tokens following the [Design Tokens Community Group (DTCG) format](https://www.designtokens.org/), along with all shared static assets, such as fonts files, icons, or decorative images.

[Terrazzo](https://terrazzo.app/docs/cli/) is used to generate [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_cascading_variables/Using_CSS_custom_properties)(custom properties) from the token definitions, along with a [Tailwind V4 CSS theme](https://tailwindcss.com/docs/theme).

## Structure

```
design-tokens/
├── src/
│   ├── fonts.css                # Custom font definitions
│   ├── gradients.css            # Gradient definitions
│   ├── public/                  # Static assets (copy from one project to another)
│   │   ├── bg/                  # Background images
│   │   └── fonts/               # Custom font files
│   └── scripts/                 # Utility scripts
│       └── to-tailwind-v4.ts    # CSS transformation script
├── terrazzo.config.js           # Terrazzo configuration
├── tokens/                      # Generated token files (CSS, JS etc.)
│   ├── base.css                 # Raw CSS variables (generated by Terrazzo)
│   └── tailwind.css             # Tailwind V4 generated theme (includes custom fonts + other composite tokens)
└── tokens.json                  # DTCG format token definitions
```

## Installation

```bashrc
bun add @happy.tech/design-tokens
```

### Importing styles

#### Vanilla CSS

Create and or update a CSS file and add the following :

```css
/* Custom fonts definition */
import "@happy.tech/design-tokens/fonts.css";

/* Design tokens as CSS variables */
import "@happy.tech/design-tokens/base.css"; 

/* Gradients (composite tokens) */
import "@happy.tech/design-tokens/gradients.css";
```

#### Tailwind (V4)

> Ensure first that Tailwind is installed in your project.

Create and or update a CSS file and add the following :

```css
@import "tailwindcss" source(none);
@source "../path/to/files/to/watch/for/styles"; 

/* Note: you can add as many @source as needed. */

/* Tailwind v4 config (design tokens, font declarations, custom composite tokens) */
@import "@happy.tech/design-tokens/tailwind.css";
```

The `@source` directive will help Tailwind to find and scan every file in your project for used class names.

Refer to the [Tailwind V4 documentation](https://tailwindcss.com/docs/detecting-classes-in-source-files#explicitly-registering-sources) for more guidance.

## Modifying design tokens

1. Edit the `tokens.json` file following the DTCG format. Check all [the supported token types on Terrazzo docs](https://terrazzo.app/docs/reference/tokens/).
2. Run the build process to generate updated CSS files. 

```bashrc
# Generate CSS variables and Tailwind V4 config
bun run tokens:build
```

If you need to generate design tokens for other targets (Javascript, Swift...) feel free to edit the [Terrazzo config](https://terrazzo.app/docs/cli/integrations/) (`terrazzo.config.js`).
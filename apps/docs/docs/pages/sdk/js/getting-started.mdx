# Getting Started With JavaScript/TypeScript

## Install

### Using a package manager

:::code-group

```bash [npm]
npm install @happy.tech/core
```

```bash [pnpm]
pnpm add @happy.tech/core
```

```bash [yarn]
yarn add @happy.tech/core
```

```bash [bun]
bun add @happy.tech/core
```

:::

### Using a CDN

```html
<script src="https://unpkg.com/@happy.tech/core@latest/umd/index.umd.js"></script>
```

## Setup 

### Wallet Component

Once you have installed the SDK, you will need to register the wallet component on the page. 
The easiest way to acomplish this is by using our provided `register` method.

:::code-group

```ts [Package Manager] twoslash
import { register } from '@happy.tech/core'

register()
```

```js [CDN]
window.HappyChain.register()
```

:::

## Usage

### Web3 Integration

Next you will want to setup your web3 integration using the `happyProvider`. 
The HappyProvider is an [EIP-1193](https://eips.ethereum.org/EIPS/eip-1193) EVM provider. 
This means you can use it to initialize any standard web3 library as you normally would. 
The most common examples are below, but it should be fully compatible with most libraries.

:::code-group

```ts [Viem] twoslash
import { happyProvider } from '@happy.tech/core' 
// [!include ~/snippets/createClients.ts:viem]
```

```ts [Ethers] twoslash
import { happyProvider } from '@happy.tech/core'
// [!include ~/snippets/createClients.ts:ethers]
```


```ts [Web3.js] twoslash
import { happyProvider } from '@happy.tech/core'
// [!include ~/snippets/createClients.ts:web3]
```

:::

### Getting the Active User

User changes, such as when a user logs in or out, can be subscribed to the `onUserUpdate` listener.
If the `user` is undefined, then they are not currently logged in have or have logged out. 
If the `user` is a [HappyUser](/sdk/js/api/type-aliases/HappyUser) then it will be populated with all their 
shared info, such as wallet address and name.

```ts twoslash
import { onUserUpdate } from '@happy.tech/core'

// [!include ~/snippets/listeners.ts:onUserUpdate]
```

Alternatively, the current user is always exposed via the `getCurrentUser` call.
```ts twoslash
import { getCurrentUser } from '@happy.tech/core'

// [!include ~/snippets/listeners.ts:getCurrentUser]
```

`onUserUpdate` only fires whenever the user changes, so if you want to have something depend on the current user, you should write your code as follows:

```ts twoslash
import { type HappyUser, getCurrentUser, onUserUpdate } from '@happy.tech/core'

// [!include ~/snippets/listeners.ts:getCurrentUserExample]
```

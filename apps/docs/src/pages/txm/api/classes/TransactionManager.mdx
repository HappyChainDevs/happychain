# Class: TransactionManager

Defined in: [packages/txm/lib/TransactionManager.ts:139](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L139)

The TransactionManager is the core module of the transaction manager.
To use the transaction manager, you must instantiate this class.
Before using the transaction manager, call the [TransactionManager.start](/txm/api/classes/TransactionManager.mdx#start) method to start it.
Once started, use the [TransactionManager.addTransactionOriginator](/txm/api/classes/TransactionManager.mdx#addtransactionoriginator) method
to add a transaction originator and begin sending transactions to the blockchain.

## Constructors

### new TransactionManager()

```ts
new TransactionManager(_config: TransactionManagerConfig): TransactionManager
```

Defined in: [packages/txm/lib/TransactionManager.ts:163](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L163)

#### Parameters

##### \_config

[`TransactionManagerConfig`](/txm/api/type-aliases/TransactionManagerConfig)

#### Returns

[`TransactionManager`](/txm/api/classes/TransactionManager)

## Methods

### addHook()

```ts
addHook(handler: TxmHookHandler, type: TxmHookType): Promise<void>
```

Defined in: [packages/txm/lib/TransactionManager.ts:267](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L267)

Adds a hook to the hook manager.

#### Parameters

##### handler

[`TxmHookHandler`](/txm/api/type-aliases/TxmHookHandler)

The handler function to add.

##### type

[`TxmHookType`](/txm/api/enumerations/TxmHookType)

The type of hook to add.

#### Returns

[`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`void`>

***

### addTransactionOriginator()

```ts
addTransactionOriginator(originator: TransactionOriginator): void
```

Defined in: [packages/txm/lib/TransactionManager.ts:258](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L258)

Adds an originator to the transaction manager.
An originator is a function that returns a list of transactions to be sent in the next block.
It is important that the originator function is as fast as possible to avoid delays when sending transactions to the blockchain

#### Parameters

##### originator

[`TransactionOriginator`](/txm/api/type-aliases/TransactionOriginator)

The originator to add.

#### Returns

`void`

***

### createTransaction()

```ts
createTransaction(params: TransactionConstructorConfig): Transaction
```

Defined in: [packages/txm/lib/TransactionManager.ts:280](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L280)

Creates a new transaction.

#### Parameters

##### params

[`TransactionConstructorConfig`](/txm/api/interfaces/TransactionConstructorConfig)

[TransactionConstructorConfig](/txm/api/interfaces/TransactionConstructorConfig).

#### Returns

[`Transaction`](/txm/api/classes/Transaction)

A new transaction.

***

### getTransaction()

```ts
getTransaction(txIntentId: UUID): Promise<undefined | Transaction>
```

Defined in: [packages/txm/lib/TransactionManager.ts:271](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L271)

#### Parameters

##### txIntentId

`UUID`

#### Returns

[`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`undefined` | [`Transaction`](/txm/api/classes/Transaction)>

***

### start()

```ts
start(): Promise<void>
```

Defined in: [packages/txm/lib/TransactionManager.ts:288](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L288)

#### Returns

[`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`void`>

## Properties

### abiManager

```ts
readonly abiManager: ABIManager;
```

Defined in: [packages/txm/lib/TransactionManager.ts:147](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L147)

***

### baseFeeMargin

```ts
readonly baseFeeMargin: bigint;
```

Defined in: [packages/txm/lib/TransactionManager.ts:157](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L157)

***

### blockMonitor

```ts
readonly blockMonitor: BlockMonitor;
```

Defined in: [packages/txm/lib/TransactionManager.ts:141](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L141)

***

### blockTime

```ts
readonly blockTime: bigint;
```

Defined in: [packages/txm/lib/TransactionManager.ts:160](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L160)

***

### chainId

```ts
readonly chainId: number;
```

Defined in: [packages/txm/lib/TransactionManager.ts:155](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L155)

***

### collectors

```ts
readonly collectors: TransactionOriginator[];
```

Defined in: [packages/txm/lib/TransactionManager.ts:140](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L140)

***

### eip1559

```ts
readonly eip1559: EIP1559Parameters;
```

Defined in: [packages/txm/lib/TransactionManager.ts:156](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L156)

***

### finalizedTransactionPurgeTime

```ts
readonly finalizedTransactionPurgeTime: number;
```

Defined in: [packages/txm/lib/TransactionManager.ts:161](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L161)

***

### gasEstimator

```ts
readonly gasEstimator: GasEstimator;
```

Defined in: [packages/txm/lib/TransactionManager.ts:146](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L146)

***

### gasPriceOracle

```ts
readonly gasPriceOracle: GasPriceOracle;
```

Defined in: [packages/txm/lib/TransactionManager.ts:145](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L145)

***

### hookManager

```ts
readonly hookManager: HookManager;
```

Defined in: [packages/txm/lib/TransactionManager.ts:152](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L152)

***

### maxPriorityFeePerGas

```ts
readonly maxPriorityFeePerGas: bigint;
```

Defined in: [packages/txm/lib/TransactionManager.ts:158](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L158)

***

### nonceManager

```ts
readonly nonceManager: NonceManager;
```

Defined in: [packages/txm/lib/TransactionManager.ts:144](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L144)

***

### pendingTxReporter

```ts
readonly pendingTxReporter: TxMonitor;
```

Defined in: [packages/txm/lib/TransactionManager.ts:148](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L148)

***

### retryPolicyManager

```ts
readonly retryPolicyManager: RetryPolicyManager;
```

Defined in: [packages/txm/lib/TransactionManager.ts:153](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L153)

***

### rpcAllowDebug

```ts
readonly rpcAllowDebug: boolean;
```

Defined in: [packages/txm/lib/TransactionManager.ts:159](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L159)

***

### transactionCollector

```ts
readonly transactionCollector: TransactionCollector;
```

Defined in: [packages/txm/lib/TransactionManager.ts:150](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L150)

***

### transactionRepository

```ts
readonly transactionRepository: TransactionRepository;
```

Defined in: [packages/txm/lib/TransactionManager.ts:149](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L149)

***

### transactionSubmitter

```ts
readonly transactionSubmitter: TransactionSubmitter;
```

Defined in: [packages/txm/lib/TransactionManager.ts:151](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L151)

***

### viemClient

```ts
readonly viemClient: SafeViemPublicClient;
```

Defined in: [packages/txm/lib/TransactionManager.ts:143](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L143)

***

### viemWallet

```ts
readonly viemWallet: SafeViemWalletClient;
```

Defined in: [packages/txm/lib/TransactionManager.ts:142](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/TransactionManager.ts#L142)

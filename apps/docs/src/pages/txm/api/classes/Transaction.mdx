# Class: Transaction

Defined in: [packages/txm/lib/Transaction.ts:80](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L80)

## Accessors

### attemptCount

#### Get Signature

```ts
get attemptCount(): number
```

Defined in: [packages/txm/lib/Transaction.ts:195](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L195)

##### Returns

`number`

***

### lastAttempt

#### Get Signature

```ts
get lastAttempt(): undefined | Attempt
```

Defined in: [packages/txm/lib/Transaction.ts:199](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L199)

##### Returns

`undefined` | `Attempt`

## Constructors

### new Transaction()

```ts
new Transaction(__namedParameters: TransactionConstructorConfig & {
  attempts: Attempt[];
  chainId: number;
  createdAt: Date;
  from: `0x${string}`;
  intentId: UUID;
  notPersisted: boolean;
  pendingFlush: boolean;
  status: TransactionStatus;
  updatedAt: Date;
 }): Transaction
```

Defined in: [packages/txm/lib/Transaction.ts:120](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L120)

#### Parameters

##### \_\_namedParameters

[`TransactionConstructorConfig`](/txm/api/interfaces/TransactionConstructorConfig) & \{
`attempts`: `Attempt`\[];
`chainId`: `number`;
`createdAt`: [`Date`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date);
`from`: `` `0x${string}` ``;
`intentId`: `UUID`;
`notPersisted`: `boolean`;
`pendingFlush`: `boolean`;
`status`: [`TransactionStatus`](/txm/api/enumerations/TransactionStatus);
`updatedAt`: [`Date`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date);
}

#### Returns

[`Transaction`](/txm/api/classes/Transaction)

## Methods

### addAttempt()

```ts
addAttempt(attempt: Attempt): void
```

Defined in: [packages/txm/lib/Transaction.ts:164](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L164)

#### Parameters

##### attempt

`Attempt`

#### Returns

`void`

***

### changeStatus()

```ts
changeStatus(status: TransactionStatus): void
```

Defined in: [packages/txm/lib/Transaction.ts:187](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L187)

#### Parameters

##### status

[`TransactionStatus`](/txm/api/enumerations/TransactionStatus)

#### Returns

`void`

***

### getInAirAttempts()

```ts
getInAirAttempts(): Attempt[]
```

Defined in: [packages/txm/lib/Transaction.ts:177](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L177)

#### Returns

`Attempt`\[]

***

### isExpired()

```ts
isExpired(block: LatestBlock, blockTime: bigint): boolean
```

Defined in: [packages/txm/lib/Transaction.ts:183](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L183)

#### Parameters

##### block

[`LatestBlock`](/txm/api/type-aliases/LatestBlock)

##### blockTime

`bigint`

#### Returns

`boolean`

***

### markFlushed()

```ts
markFlushed(): void
```

Defined in: [packages/txm/lib/Transaction.ts:203](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L203)

#### Returns

`void`

***

### removeAttempt()

```ts
removeAttempt(hash: `0x${string}`): void
```

Defined in: [packages/txm/lib/Transaction.ts:169](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L169)

#### Parameters

##### hash

`` `0x${string}` ``

#### Returns

`void`

***

### toDbRow()

```ts
toDbRow(): {
  address: `0x${string}`;
  args: string;
  attempts: string;
  chainId: number;
  contractName: string;
  createdAt: number;
  from: `0x${string}`;
  functionName: string;
  intentId: UUID;
  status: TransactionStatus;
  updatedAt: number;
 } & {
  deadline: number;
  metadata: string;
}
```

Defined in: [packages/txm/lib/Transaction.ts:219](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L219)

#### Returns

\{
`address`: `` `0x${string}` ``;
`args`: `string`;
`attempts`: `string`;
`chainId`: `number`;
`contractName`: `string`;
`createdAt`: `number`;
`from`: `` `0x${string}` ``;
`functionName`: `string`;
`intentId`: `UUID`;
`status`: [`TransactionStatus`](/txm/api/enumerations/TransactionStatus);
`updatedAt`: `number`;
} & \{
`deadline`: `number`;
`metadata`: `string`;
}

***

### fromDbRow()

```ts
static fromDbRow(row: {
  address: `0x${string}`;
  args: string;
  attempts: string;
  chainId: number;
  contractName: string;
  createdAt: number;
  deadline: undefined | number;
  from: `0x${string}`;
  functionName: string;
  intentId: UUID;
  metadata: undefined | string;
  status: TransactionStatus;
  updatedAt: number;
 }): Transaction
```

Defined in: [packages/txm/lib/Transaction.ts:237](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L237)

#### Parameters

##### row

###### address

`` `0x${string}` ``

###### args

`string`

###### attempts

`string`

###### chainId

`number`

###### contractName

`string`

###### createdAt

`number`

###### deadline

`undefined` | `number`

###### from

`` `0x${string}` ``

###### functionName

`string`

###### intentId

`UUID`

###### metadata

`undefined` | `string`

###### status

[`TransactionStatus`](/txm/api/enumerations/TransactionStatus)

###### updatedAt

`number`

#### Returns

[`Transaction`](/txm/api/classes/Transaction)

## Properties

### address

```ts
readonly address: `0x${string}`;
```

Defined in: [packages/txm/lib/Transaction.ts:87](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L87)

***

### args

```ts
readonly args: readonly unknown[];
```

Defined in: [packages/txm/lib/Transaction.ts:91](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L91)

***

### attempts

```ts
readonly attempts: Attempt[];
```

Defined in: [packages/txm/lib/Transaction.ts:100](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L100)

***

### chainId

```ts
readonly chainId: number;
```

Defined in: [packages/txm/lib/Transaction.ts:85](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L85)

***

### contractName

```ts
readonly contractName: string;
```

Defined in: [packages/txm/lib/Transaction.ts:94](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L94)

***

### createdAt

```ts
createdAt: Date;
```

Defined in: [packages/txm/lib/Transaction.ts:110](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L110)

***

### deadline

```ts
readonly deadline: undefined | number;
```

Defined in: [packages/txm/lib/Transaction.ts:96](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L96)

***

### from

```ts
readonly from: `0x${string}`;
```

Defined in: [packages/txm/lib/Transaction.ts:83](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L83)

***

### functionName

```ts
readonly functionName: string;
```

Defined in: [packages/txm/lib/Transaction.ts:89](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L89)

***

### intentId

```ts
readonly intentId: UUID;
```

Defined in: [packages/txm/lib/Transaction.ts:81](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L81)

***

### metadata

```ts
readonly metadata: Record<string, unknown>;
```

Defined in: [packages/txm/lib/Transaction.ts:118](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L118)

Stores additional information for the transaction.
Enables originators to provide extra details, such as gas limits, which can be leveraged by customizable services.

***

### notPersisted

```ts
notPersisted: boolean;
```

Defined in: [packages/txm/lib/Transaction.ts:108](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L108)

***

### pendingFlush

```ts
pendingFlush: boolean;
```

Defined in: [packages/txm/lib/Transaction.ts:104](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L104)

***

### status

```ts
status: TransactionStatus;
```

Defined in: [packages/txm/lib/Transaction.ts:98](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L98)

***

### updatedAt

```ts
updatedAt: Date;
```

Defined in: [packages/txm/lib/Transaction.ts:112](https://github.com/HappyChainDevs/happychain/blob/99d9c499d60929c60f5b0529191c07ec6adb3faa/packages/txm/lib/Transaction.ts#L112)

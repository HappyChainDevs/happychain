# Getting started with React

The `@happy.tech/react` package provides React-specific functionality, to be used instead or in
addition to those provided in [`@happy.tech/core`][js-getting-started].

[js-getting-started]: /sdk/js/getting-started

## Install 

### Using a package manager

:::code-group

```bash [npm]
npm install @happy.tech/core @happy.tech/react
```

```bash [pnpm]
pnpm add @happy.tech/core @happy.tech/react
```

```bash [yarn]
yarn add @happy.tech/core @happy.tech/react
```

```bash [bun]
bun add @happy.tech/core @happy.tech/react
```

:::

## Setup

### Wallet component

After installing, the first thing you will need to do, is wrap your app in the [`HappyWalletProvider`].

[`HappyWalletProvider`]: /sdk/react/api/functions/HappyWalletProvider

```tsx
import React from "react"
import ReactDOM from "react-dom/client"
import { HappyWalletProvider } from "@happy.tech/react"

ReactDOM.createRoot(document.getElementById('root')).render(
    <HappyWalletProvider>
        {/* <YourApp /> */}
    </HappyWalletProvider>
)
```

{/*
The code above used to have code focus but was removed because it's broken.
Tracking: https://github.com/wevm/vocs/issues/291
*/}

The `HappyWalletProvider` takes care of calling the [`loadHappyWallet()`] function for you.

[`loadHappyWallet()`]: /sdk/js/api/functions/loadHappyWallet

## Usage

### Web3 Integration

To set up your web3 integration (via Viem, Wagmi, Ethers), see the [corresponding
section][js-web3-integration] in the "Getting started with JavaScript/TypeScript" page.

Of particular relevance to React users, we provide an easy way to create a Wagmi config
([`createHappyChainWagmiConfig`]), and a Wagmi connector if you need to customize the config
([`happyWagmiConnector`]). Don't forget to call the Wagmi [`connect`] function!

[js-web3-integration]: /sdk/js/getting-started#web3-integration
[`createHappyChainWagmiConfig`]: /sdk/js/api/functions/createHappyChainWagmiConfig
[`happyWagmiConnector`]: /sdk/js/api/functions/happyWagmiConnector
[`connect`]: https://wagmi.sh/core/api/actions/connect

### Getting the active user

The [`useHappyWallet`] hook returns the current user as a [`HappyUser`]
if the user is connected, otherwise it returns undefined.

[`useHappyWallet`]: /sdk/react/api/functions/useHappyWallet
[`HappyUser`]: /sdk/js/api/type-aliases/HappyUser

```tsx twoslash
import React from "react"
import { useHappyWallet } from "@happy.tech/react"

function UserAddressComponent() {
    const { user } = useHappyWallet()

    if (!user) {
        return <div>Not connected</div>
    }

    return <div>{user.address}</div>
}
```

To get the active user outside of React components, see [the corresponding section][js-active-user]
in the "Getting started with JavaScript/TypeScript" page.

[js-active-user]: /sdk/js/getting-started#getting-the-active-user

### UI component

The Happy Wallet component (the orb on the right side of the screen that opens up the wallet)
is automatically added to the page by the `HappyWalletProvider`.

To display a connection button, you can use the [`ConnectButton`] component.
The button turns into a badge displaying the username and avatar after connecting.

[`ConnectButton`]: /sdk/react/api/functions/ConnectButton

The `ConnectButton` component wraps the `happychain-connect-button` [Web Component](https://developer.mozilla.org/en-US/docs/Web/API/Web_components), allowing it to be
used from JSX.

You can disable the default styles by passing the `disableStyles` property. In this case, you
probably want to specify your own style, for which you need to pass the `overrideBadgeStyles` option
to the [`HappyWalletProvider`].

[`HappyWalletProvider`]: /sdk/react/api/functions/HappyWalletProvider

:::code-group

```jsx [Default Style] twoslash
<ConnectButton />
```

```jsx [Custom Style] twolash
<ConnectButton disableStyles />
```

:::

### More

Don't forget to check the ["Getting started with Javascript/Typescript"][js-getting-started] page,
as it includes features you'll want to use on top of the features in the React package.
